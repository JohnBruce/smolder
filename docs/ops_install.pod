=for comment
This POD file is used to generate INSTALL in distribution archives.

=head1 Installing Smolder

This document describes how to install Smolder on your system.

=head2 Supported Platforms

Smolder supports the following operating system platforms for
binary distributions:

TODO - Add more binary distributions as we get more users willing
to create them.

=over 4

=item *

Fedora Core 3

=back

Smolder will likely compile fine on other similar platforms, but you'll
need to download the source distribution and build it yourself.  See
L<"Building Smolder from Source">.

=head2 Software Requirements

Before you can install Smolder you'll need Perl version 5.6.1 or later
and MySQL version 4.0.13 or later.  You can download Perl here:

  http://www.perl.com/download.csp

And MySQL 4 can be found here:

  http://www.mysql.com/downloads/mysql-4.0.html

Smolder may require additional software, depending on your operating
system.  Be sure to read the platform-specific README (eg.
F<README.RH9>) included with Smolder.

=head2 Choosing a Distribution

When you download Smolder you must choose a distribution that matches
your operating system and version of Perl.  If you don't know what
version of Perl you have, run this command on your command-line:

  perl -MConfig -e 'printf "perl%d.%d.%d-%s",
                    (map { ord($_) } split("", $^V, 3)), $Config{archname}'

This will print something like:

  perl5.6.1-i686-linux

Using this information, if you wanted to install Smolder 1.013 on Redhat
7.3 you would download:

  smolder-1.013-RH7_3-perl5.6.1-i686-linux.tar.gz

Smolder also has a special source distribution with F<-src> instead of a
platform description (ex: F<smolder-1.013-src.tar.gz>).  You can
download this release and attempt to build Smolder from source.  Of
course, this may require porting work if Smolder doesn't support your
platform.

=head2 Building Smolder from Source

If you downloaded the source distribution (ex:
F<smolder-1.013-src.tar.gz>) then you'll need to build Smolder before you
can install it.  If you've got a binary distribution, skip ahead to
L<"Installation">.

First, untar the source tar-ball and enter the directory:

  tar zxvf smolder-1.013-src.tar.gz
  cd smolder-1.013-src

If there's a README file for your platform (ex: README.FreeBSD5), read
that now.  It will tell you about software you'll need to install
before building Smolder.

Now try building Smolder using the bin/smolder_build script:

  bin/smolder_build

If Smolder complains that it doesn't know what platform to build for you
can pass it a platform name:

  bin/smolder_build RH9

If that works, you can now build a binary distribution for your
platform and proceed to the next step:

  bin/smolder_makedist

If not, you'll have to do some porting work to get Smolder working on
your system.  To learn more about porting Smolder, read this:

  http://smolder.sourceforge.net/docs/porting.html

=head2 Installation

Once you've downloaded a Smolder binary distribution, or built one from
source, un-tar it and enter the directory created:

  tar zxvf smolder-1.013-RH7_3-perl5.6.1-i686-linux.tar.gz
  cd smolder-1.013-RH7_3-perl5.6.1-i686-linux

To install, run bin/smolder_install as root, providing options
describing how to setup Smolder:

  # ./bin/smolder_install \
         --HostName             $HostName            \
         --IPAddress            $IPAddress           \
         --DBUser               $DBUser              \
         --DBPass               $DBPass              \

These options are described below.

=head2 Required Variables

Before you install you must gather the following information.  The
following variables should be replaced in example shell commands with
the appropriate values.

=over 4

=item HostName

Host name used for Smolder's main Apache virtual host (e.g.,
"cms23.foo.com").  This is the master host which provides a list of
all configured Smolder instances.  Often this is the hostname of the
machine itself, although systems with multiple Smolder installations
must choose different HostNames for each.

=item IPAddress

IP address used for the Smolder Apache server and FTP server.  You'll
need to arrange DNS to point this IPAddress at HostName.

=item DBUser

Name of MySQL user which is used by this CMS installation (e.g.,
"smolderdb").  This user will be created if it does not exist.

=item DBPass

MySQL user password which is used by this Smolder installation (e.g.,
"xyzzy").  If the MySQL user already exists this must be the correct
password for the user.

=back

=head2 Optional Variables

Other variables may be required, depending on your installation needs:

=over 4

=item MySQLRootPassword

Defaults to "" (none).  The password for the MySQL user "root" who is
assumed to exist, and to have full access to MySQL.  If the "root"
user doesn't exist or has restricted access you must change your MySQL
configuration before installing Smolder.

=item InstallPath

Defaults to "/usr/local/smolder".  Directory into which Smolder should be
installed.

=item SmolderUser

Defaults to "smolder".  UNIX user for process ownership (Apache, etc.),
file ownership and install location.  This user will be created if it
does not exist.

=item SmolderGroup

Defaults to "smolder".  UNIX group for process ownership (Apache, etc.),
file ownership and install location.  This group will be created if it
does not exist.

=item ApachePort

Defaults to 80.  Port on which the Apache server should run.

=item SMTPHost

Defaults to localhost (127.0.0.1).  Address of SMTP mail server used
by Smolder for sending email alerts.

=item FromAddress

Email address used as the 'From' address on all outgoing emails

=back

